# Disclaimer #

OpenEdgeStats is by no mean a fully packaged project (and will surely never be). It's just a pack of scripts and BIRT reports you will be able to use freely ; you'll certainly need customisations on reports to match your needs.
You'll need to know how to create a new Openedge database, start SQL brokers and execute Openedge procedures.

# Probes setup #

George Potemkin wrote some months ago a set of Openedge procedures to gather statistics from Openedge databases. They are available [here](ftp://ftp.progress-tech.ru/pub/Users/george/Programs/DbStatDump/). All you need is to setup those probes and wait for .txt files to be generated.

# Repository clone #

Repository is located in the source code page. A ZIP export of the Mercurial repository is available [here](http://openedgestats.googlecode.com/files/DbStatAnalysis.zip).

# Statistics database #

Before generating reports, you'll need to load the .txt files in a database (call it dbstat, you'll save some time later when generating reports). A database schema is available in db/dump directory. Then start a SQL database broker.

# Loading data #

Create a new directory in import/_directory_ then drop text files generated by probes in step 1. Then execute :
```
$DLC/bin/_progres -db dbstat -H localhost -S *XXX* -U *XXX* -P *XXX* -b -p src/import.p -param import/_directory_ -clientlog import.log
```
Use your favorite editor or SQL client to verify data are imported. Please note that if you import data from pre-10.2B databases (or 10.2B with no updatevst), you'll have to use src/importPre102B.p instead of src/import.p.
Once data are imported, you can delete the text files.

# Installing BIRT #

Reports were create with [BIRT](http://download.eclipse.org/birt/downloads/). Just download **RCP Designer**, unzip, and execute BIRT.exe. In case you don't have Java installed, you can use JDK installed with Openedge :
```
set JAVA_HOME=%DLC%\jdk
set PATH=%JAVA_HOME%\bin;%PATH%
```

Once RCP Designer is started, open reports/PeriodicReport.rptdesign, and go in the "Data Explorer" view. Double click on "My data source", then update values in "BIRT JDBC Data source" (basically your database host name, port, and login/password).
Click then on "View report" button, choose your parameters and view the result !


